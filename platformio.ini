[env:m5stack-cardputer]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

board_build.mcu = esp32s3
board_build.f_cpu = 240000000L
board_build.f_flash = 80000000L
board_build.flash_mode = qio
board_build.partitions = default_16MB.csv

; ESP32-S3 with 16MB Flash + 8MB PSRAM (Cardputer ADV)
board_upload.flash_size = 16MB
board_build.arduino.memory_type = qio_opi

build_flags = 
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DBOARD_HAS_PSRAM
    -DCORE_DEBUG_LEVEL=3
    -DM5CARDPUTER

lib_deps = 
    m5stack/M5Unified@^0.1.16
    m5stack/M5GFX@^0.1.16
    m5stack/M5Cardputer@^1.0.0
    jgromes/RadioLib@^6.6.0
    LSatan/SmartRC-CC1101-Driver-Lib@^2.5.7
    nrf24/RF24@^1.4.9

monitor_speed = 115200
upload_speed = 921600
